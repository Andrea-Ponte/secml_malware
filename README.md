# SecML Malware plugin

This is a plugin for the [SecML](https://secml.gitlab.io) Python library.
It adds the attack proposed by Demetrio et al. in ["Explaining Vulnerabilities of Deep Learning to Adversrial Malware"](https://arxiv.org/abs/1901.03583).
There is a [pre-trained MalConv](https://github.com/endgameinc/ember) model trained by EndGame, included in this poject for testing.

# Installation

Navigate to the folder where you want to clone the project.
I recommend creating a new environment (I use `conda`):
```bash
conda create -n secml-malware-env python=3.7
conda activate secml-malware-env
git clone https://github.com/zangobot/secml_malware.git
cd secml_malware
pip install -r requirements.txt
```
You also need to install `pytorch`, [find instructions here](https://pytorch.org/get-started/locally/). 
After having installed `pytorch`, install this package locally:
```bash
python install -e .
```
(I will upload the project on PyPi soon)

*You're done ^.^*

# Testing
I provide a small test suite for the attacks I have developed inside the plugin.
If you want to run them, **ADD GOODWARE/MALWARE samples!**
There are two distinct folders: 
```
secml_malware/data/goodware_samples
secml_malware/data/malware_samples/test_folder
```
Please, add samples to both folders (**if and only if** you want to run the internal tests).

# How to use
Activate your environment import the `secml_malware` package inside your script:
```python
import secml_malware
print(secml_malware.__version__)
```
The tests included in this project show how the library can be used for applying the manipulation to the input programs.

# Cite
If you use SecML Malware for testing / expanding the Header attack, please cite our work!
```bibtex
@article{demetrio2019explaining,
  title={Explaining Vulnerabilities of Deep Learning to Adversarial Malware Binaries},
  author={Demetrio, Luca and Biggio, Battista and Lagorio, Giovanni and Roli, Fabio and Armando, Alessandro},
  journal={Proceedings of the Third Italian Conference on Cyber Security},
  year={2019},
  volume={2315}
}
``` 
